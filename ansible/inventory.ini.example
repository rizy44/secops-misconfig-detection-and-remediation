# Ansible Inventory - Auto-generated by Terraform
# Gateway (jump host): gateway @ YOUR_GATEWAY_FLOATING_IP

[gateway]
secops-gateway ansible_host=YOUR_GATEWAY_FLOATING_IP private_ip=10.10.50.X gateway_private_ip=10.10.51.X ansible_user=ubuntu ansible_ssh_private_key_file=/path/to/your/key

[obs_stack]
secops-obs-stack ansible_host=10.10.50.X private_ip=10.10.50.X ansible_user=ubuntu ansible_ssh_private_key_file=/path/to/your/key ansible_ssh_common_args='-o ProxyJump=ubuntu@YOUR_GATEWAY_IP:22 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ConnectTimeout=10'

[secops_app]
secops-secops-app ansible_host=10.10.50.X private_ip=10.10.50.X ansible_user=ubuntu ansible_ssh_private_key_file=/path/to/your/key ansible_ssh_common_args='-o ProxyJump=ubuntu@YOUR_GATEWAY_IP:22 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ConnectTimeout=10'

[private_vm]
secops-private-vm ansible_host=10.10.51.X private_ip=10.10.51.X ansible_user=ubuntu ansible_ssh_private_key_file=/path/to/your/key ansible_ssh_common_args='-o ProxyJump=ubuntu@YOUR_GATEWAY_IP:22 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ConnectTimeout=10'

# Anything that MUST SSH through gateway:
[behind_gateway]
secops-obs-stack
secops-secops-app
secops-private-vm

[behind_gateway:vars]
ansible_ssh_private_key_file=/path/to/your/key
ansible_ssh_common_args='-o ProxyJump=ubuntu@YOUR_GATEWAY_IP:22 -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o ConnectTimeout=10 -o ServerAliveInterval=60'

[all:vars]
ansible_python_interpreter=/usr/bin/python3
ansible_ssh_private_key_file=/path/to/your/key
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'

# Convenience group (for playbooks using hosts: instances)
[instances:children]
gateway
obs_stack
secops_app
private_vm

